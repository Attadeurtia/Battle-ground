int deroulement_vague(joueur *player, t_wave *vague, SDL_Renderer *rendu, int camp)
{
  int code_contour_barre_vie[4] = {0, 0, 0, 255};
  int code_interieur_barre_vie[4] = {255, 165, 0, 255};
  vague = deb_liste_survivant(vague);
  if (vague != NULL)
  {
    while (vague->suiv != NULL)
    {
      if (!vague->ent->temps && vague->ent->pv > 0)
      {
        if (vague->ent->attaque != 0)
          charger_image(vague->ent->nom_fichier, rendu, vague->ent->x,
                        vague->ent->y, 0);
        met_a_jour_images_classique(vague);

        /* int xbarre = vague->ent->x;
        int ybarre = vague->ent->y_barre + 10; */

        dessiner_rectangle_vide(rendu, code_contour_barre_vie,
                                vague->ent->x,
                                vague->ent->y_barre + 10, 8, 52,
                                0); /*met à jour la barre de vie*/
        dessiner_rectangle_plein(
            rendu, code_interieur_barre_vie, vague->ent->x + 1,
            vague->ent->y_barre + 1 + 10, 6, vague->ent->pv, 0);
        if (camp && vague->ent->montant != 2)
        {
          vague->ent->x -= 2;
          vague->ent->x_barre -= 2;
        }
        else if (!camp && vague->ent->montant != 2)
        {
          vague->ent->x += 2;
          vague->ent->x_barre += 2;
        }
      }
      else if (vague->ent->temps > 0)
      {
        vague->ent->temps--;
        vague = suivant_entite_survivant(vague);
      }
      if (vague->ent->pv <= 0)
      {
        vague = supprimer_entite_survivant(vague);
        if (camp)
          player->argent += 130;
        if (vague == NULL)
          return -1;
      }
      else if (vague->ent->pv > 0 && !vague->ent->temps)
        vague = suivant_entite_survivant(vague);
    }
  }
  if (vague != NULL)
  { // dans le cas ou il ne reste plus qu'une entité dans
    // la liste ou on est à la fin
    if (!vague->ent->temps && vague->ent->pv > 0)
    {
      // printf("derniere adresse : %p\n", vague);
      if (vague->ent->attaque != 0)
        charger_image(vague->ent->nom_fichier, rendu, vague->ent->x,
                      vague->ent->y, 0);
      met_a_jour_images_classique(vague);
      dessiner_rectangle_vide(rendu, code_contour_barre_vie,
                              vague->ent->x_barre, vague->ent->y + 10,
                              8, 52, 0); /*met à jour la barre de vie*/
      dessiner_rectangle_plein(
          rendu, code_interieur_barre_vie, vague->ent->x_barre + 1,
          vague->ent->y + 11, 6, vague->ent->pv, 0);
      if (camp && vague->ent->montant != 2)
      {
        vague->ent->x -= 2;
        vague->ent->x_barre -= 2;
      }
      else if (!camp && vague->ent->montant != 2)
      {
        vague->ent->x += 2;
        vague->ent->x_barre += 2;
      }
    }
    if (vague->ent->temps > 0)
      vague->ent->temps--;
    if (vague->ent->pv <= 0)
    {
      vague = supprimer_entite_survivant(vague);
      if (camp)
        player->argent += 130;
      if (vague == NULL)
        return -1;
    }
  }
  else
    return 1;
  return 0;
}